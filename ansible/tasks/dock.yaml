- name: Install dockutil
  ignore_errors: yes
  community.general.homebrew:
    name: ["hpedrorodrigues/tools/dockutil"]
  tags:
    - install
    - dock

- name: Clear dock
  shell: dockutil --remove all --no-restart
  tags:
    - install
    - dock

- name: Setup dock
  shell: dockutil --add {{ item }} --no-restart
  with_items:
    - /Applications/Home.app
    - "'' --type spacer --section apps --after Home"
    - /Applications/Mail.app
    - /Applications/Calendar.app
    - "'' --type spacer --section apps --after Calendar"
    - /Applications/Music.app
    - /Applications/Podcasts.app
    - "'' --type spacer --section apps --after Podcasts"
    - /Applications/Drafts.app
    - /Applications/Obsidian.app
    - /Applications/Todoist.app
    - /Applications/1Password.app
    - "'' --type spacer --section apps --after 1Password"
    - /Applications/Visual\ Studio\ Code.app
    - /Applications/XCode.app
    - /Applications/Warp.app
    - "'' --type spacer --section apps --after Warp"
    - /Applications/Messages.app
    - /Applications/Slack.app
    - /Applications/Discord.app
    - "'' --type spacer --section apps --after Discord"
    - /Applications/Brave\ Browser.app
    - /Applications/Safari.app
    - /Applications/Firefox.app
  ignore_errors: yes
  tags:
    - install
    - dock

- name: Restart dock
  shell: "/usr/bin/killall Dock"
  tags:
    - install
    - dock
